<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jaxwel Epoxy Table Builder</title>
  <style>
    body {
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0;
      padding: 1rem;
      background: #f5f5f5;
    }
    h1 { margin-bottom: 1rem; }
    canvas {
      border: 2px solid #333;
      background: #ddd;
      margin-bottom: 1rem;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
      max-width: 800px;
    }
    .control {
      background: #fff;
      padding: 1rem;
      border-radius: 0.5rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      flex: 1 1 200px;
    }
    label { display: block; margin-bottom: 0.5rem; font-weight: bold; }
    select, input {
      width: 100%;
      padding: 0.5rem;
      margin-bottom: 0.5rem;
    }
  </style>
</head>
<body>
  <h1>Jaxwel Epoxy Table Builder</h1>
  <canvas id="tableCanvas" width="600" height="400"></canvas>
  
  <div class="controls">
    <div class="control">
      <label for="shape">Shape</label>
      <select id="shape">
        <option value="rectangle">Rectangle</option>
        <option value="square">Square</option>
        <option value="circle">Circle</option>
      </select>
    </div>
    <div class="control">
      <label for="size">Size</label>
      <select id="size">
        <option value="28">28"</option>
        <option value="34">34"</option>
        <option value="40">40"</option>
      </select>
    </div>
    <div class="control">
      <label for="wood">Wood Type</label>
      <select id="wood">
        <option value="#8B4513">Walnut (Dark Brown)</option>
        <option value="#A0522D">Cherry (Medium Brown)</option>
        <option value="#DEB887">Maple (Light Brown)</option>
        <option value="#D2B48C">Oak (Tan)</option>
      </select>
    </div>
    <div class="control">
      <label for="epoxyColor">Epoxy Color</label>
      <input type="color" id="epoxyColor" value="#1E90FF" />
      <label for="epoxyOpacity">Opacity</label>
      <input type="range" id="epoxyOpacity" min="0.2" max="1" step="0.1" value="0.7" />
      <label for="epoxyWidth">Epoxy Width</label>
      <input type="range" id="epoxyWidth" min="0.2" max="0.6" step="0.05" value="0.4" />
      <button id="randomizeRiver">Randomize River</button>
    </div>
  </div>

  <script>
    const canvas = document.getElementById("tableCanvas");
    const ctx = canvas.getContext("2d");

    const shapeSelect = document.getElementById("shape");
    const sizeSelect = document.getElementById("size");
    const woodSelect = document.getElementById("wood");
    const epoxyColorInput = document.getElementById("epoxyColor");
    const epoxyOpacityInput = document.getElementById("epoxyOpacity");
    const epoxyWidthInput = document.getElementById("epoxyWidth");
    const randomizeRiverButton = document.getElementById("randomizeRiver");

    let riverPath = [];

    function randomizeRiver() {
      riverPath = [];
      for (let y = 0; y <= 1; y += 0.05) {
        const x = 0.5 + (Math.sin(y * Math.PI * 2 + Math.random() * 0.5) * 0.2);
        riverPath.push({x, y});
      }
    }

    function draw() {
      const shape = shapeSelect.value;
      const size = parseInt(sizeSelect.value, 10);
      const wood = woodSelect.value;
      const epoxyColor = epoxyColorInput.value;
      const epoxyOpacity = parseFloat(epoxyOpacityInput.value);
      const epoxyWidth = parseFloat(epoxyWidthInput.value);

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      ctx.save();
      ctx.translate(canvas.width / 2, canvas.height / 2);

      let w, h;
      if (shape === "square") {
        w = h = size * 5;
      } else if (shape === "rectangle") {
        w = size * 7;
        h = size * 5;
      } else {
        w = h = size * 6;
      }

      ctx.beginPath();
      if (shape === "circle") {
        ctx.arc(0, 0, w / 2, 0, Math.PI * 2);
      } else {
        ctx.rect(-w / 2, -h / 2, w, h);
      }
      ctx.fillStyle = wood;
      ctx.fill();

      ctx.clip();

      ctx.beginPath();
      for (let i = 0; i < riverPath.length; i++) {
        const p = riverPath[i];
        const x = (p.x - 0.5) * w;
        const y = (p.y - 0.5) * h;
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }

      ctx.lineWidth = epoxyWidth * w;
      ctx.strokeStyle = epoxyColor;
      ctx.globalAlpha = epoxyOpacity;
      ctx.stroke();

      ctx.globalAlpha = 1.0;
      ctx.restore();
    }

    randomizeRiver();
    draw();

    shapeSelect.addEventListener("change", draw);
    sizeSelect.addEventListener("change", draw);
    woodSelect.addEventListener("change", draw);
    epoxyColorInput.addEventListener("input", draw);
    epoxyOpacityInput.addEventListener("input", draw);
    epoxyWidthInput.addEventListener("input", draw);
    randomizeRiverButton.addEventListener("click", () => {
      randomizeRiver();
      draw();
    });
  </script>
</body>
</html>
